"use strict";exports.id=79,exports.ids=[79],exports.modules={12079:(e,r,o)=>{o.d(r,{CC:()=>R,O9:()=>G,R2:()=>H});var t={};o.r(t),o.d(t,{AmazonBedrockProvider:()=>s,AnthropicProvider:()=>m,CohereProvider:()=>c,DeepseekProvider:()=>g,GithubProvider:()=>u,GoogleProvider:()=>A,GroqProvider:()=>k,HuggingFaceProvider:()=>y,HyperbolicProvider:()=>f,LMStudioProvider:()=>T,MistralProvider:()=>x,OllamaProvider:()=>K,OpenAILikeProvider:()=>M,OpenAIProvider:()=>P,OpenRouterProvider:()=>I,PerplexityProvider:()=>B,TogetherProvider:()=>L,XAIProvider:()=>O});var a=o(94387);class i{getProviderBaseUrlAndKey(e){let{apiKeys:r,providerSettings:o,serverEnv:t,defaultBaseUrlKey:a,defaultApiTokenKey:i}=e,n=o?.baseUrl,l=C.getInstance();n&&0==n.length&&(n=void 0);let s=this.config.baseUrlKey||a,d=n||t?.[s]||process?.env?.[s]||l.env?.[s]||this.config.baseUrl;d&&d.endsWith("/")&&(d=d.slice(0,-1));let m=this.config.apiTokenKey||i;return{baseUrl:d,apiKey:r?.[this.name]||t?.[m]||process?.env?.[m]||l.env?.[m]}}getModelsFromCache(e){return this.cachedDynamicModels?this.cachedDynamicModels.cacheId!==this.getDynamicModelsCacheKey(e)?(this.cachedDynamicModels=void 0,null):this.cachedDynamicModels.models:null}getDynamicModelsCacheKey(e){return JSON.stringify({apiKeys:e.apiKeys?.[this.name],providerSettings:e.providerSettings?.[this.name],serverEnv:e.serverEnv})}storeDynamicModels(e,r){let o=this.getDynamicModelsCacheKey(e);this.cachedDynamicModels={cacheId:o,models:r}}}function n(e,r,o){return(0,a.r)({baseURL:e,apiKey:r})(o)}var l=o(19725);class s extends i{_parseAndValidateConfig(e){let r;try{r=JSON.parse(e)}catch{throw Error("Invalid AWS Bedrock configuration format. Please provide a valid JSON string containing region, accessKeyId, and secretAccessKey.")}let{region:o,accessKeyId:t,secretAccessKey:a,sessionToken:i}=r;if(!o||!t||!a)throw Error("Missing required AWS credentials. Configuration must include region, accessKeyId, and secretAccessKey.");return{region:o,accessKeyId:t,secretAccessKey:a,...i&&{sessionToken:i}}}getModelInstance(e){let{model:r,serverEnv:o,apiKeys:t,providerSettings:a}=e,{apiKey:i}=this.getProviderBaseUrlAndKey({apiKeys:t,providerSettings:a?.[this.name],serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"AWS_BEDROCK_CONFIG"});if(!i)throw Error(`Missing API key for ${this.name} provider`);let n=this._parseAndValidateConfig(i);return(0,l.D)(n)(r)}constructor(...e){super(...e),this.name="AmazonBedrock",this.getApiKeyLink="https://console.aws.amazon.com/iam/home",this.config={apiTokenKey:"AWS_BEDROCK_CONFIG"},this.staticModels=[{name:"anthropic.claude-3-5-sonnet-20241022-v2:0",label:"Claude 3.5 Sonnet v2 (Bedrock)",provider:"AmazonBedrock",maxTokenAllowed:2e5},{name:"anthropic.claude-3-5-sonnet-20240620-v1:0",label:"Claude 3.5 Sonnet (Bedrock)",provider:"AmazonBedrock",maxTokenAllowed:4096},{name:"anthropic.claude-3-sonnet-20240229-v1:0",label:"Claude 3 Sonnet (Bedrock)",provider:"AmazonBedrock",maxTokenAllowed:4096},{name:"anthropic.claude-3-haiku-20240307-v1:0",label:"Claude 3 Haiku (Bedrock)",provider:"AmazonBedrock",maxTokenAllowed:4096},{name:"amazon.nova-pro-v1:0",label:"Amazon Nova Pro (Bedrock)",provider:"AmazonBedrock",maxTokenAllowed:5120},{name:"amazon.nova-lite-v1:0",label:"Amazon Nova Lite (Bedrock)",provider:"AmazonBedrock",maxTokenAllowed:5120},{name:"mistral.mistral-large-2402-v1:0",label:"Mistral Large 24.02 (Bedrock)",provider:"AmazonBedrock",maxTokenAllowed:8192}]}}var d=o(55179);class m extends i{constructor(...e){super(...e),this.name="Anthropic",this.getApiKeyLink="https://console.anthropic.com/settings/keys",this.config={apiTokenKey:"ANTHROPIC_API_KEY"},this.staticModels=[{name:"claude-3-5-sonnet-latest",label:"Claude 3.5 Sonnet (new)",provider:"Anthropic",maxTokenAllowed:8e3},{name:"claude-3-5-sonnet-20240620",label:"Claude 3.5 Sonnet (old)",provider:"Anthropic",maxTokenAllowed:8e3},{name:"claude-3-5-haiku-latest",label:"Claude 3.5 Haiku (new)",provider:"Anthropic",maxTokenAllowed:8e3},{name:"claude-3-opus-latest",label:"Claude 3 Opus",provider:"Anthropic",maxTokenAllowed:8e3},{name:"claude-3-sonnet-20240229",label:"Claude 3 Sonnet",provider:"Anthropic",maxTokenAllowed:8e3},{name:"claude-3-haiku-20240307",label:"Claude 3 Haiku",provider:"Anthropic",maxTokenAllowed:8e3}],this.getModelInstance=e=>{let{apiKeys:r,providerSettings:o,serverEnv:t,model:a}=e,{apiKey:i}=this.getProviderBaseUrlAndKey({apiKeys:r,providerSettings:o,serverEnv:t,defaultBaseUrlKey:"",defaultApiTokenKey:"ANTHROPIC_API_KEY"});return(0,d.n)({apiKey:i})(a)}}}var p=o(51535);class c extends i{getModelInstance(e){let{model:r,serverEnv:o,apiKeys:t,providerSettings:a}=e,{apiKey:i}=this.getProviderBaseUrlAndKey({apiKeys:t,providerSettings:a?.[this.name],serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"COHERE_API_KEY"});if(!i)throw Error(`Missing API key for ${this.name} provider`);return(0,p.E)({apiKey:i})(r)}constructor(...e){super(...e),this.name="Cohere",this.getApiKeyLink="https://dashboard.cohere.com/api-keys",this.config={apiTokenKey:"COHERE_API_KEY"},this.staticModels=[{name:"command-r-plus-08-2024",label:"Command R plus Latest",provider:"Cohere",maxTokenAllowed:4096},{name:"command-r-08-2024",label:"Command R Latest",provider:"Cohere",maxTokenAllowed:4096},{name:"command-r-plus",label:"Command R plus",provider:"Cohere",maxTokenAllowed:4096},{name:"command-r",label:"Command R",provider:"Cohere",maxTokenAllowed:4096},{name:"command",label:"Command",provider:"Cohere",maxTokenAllowed:4096},{name:"command-nightly",label:"Command Nightly",provider:"Cohere",maxTokenAllowed:4096},{name:"command-light",label:"Command Light",provider:"Cohere",maxTokenAllowed:4096},{name:"command-light-nightly",label:"Command Light Nightly",provider:"Cohere",maxTokenAllowed:4096},{name:"c4ai-aya-expanse-8b",label:"c4AI Aya Expanse 8b",provider:"Cohere",maxTokenAllowed:4096},{name:"c4ai-aya-expanse-32b",label:"c4AI Aya Expanse 32b",provider:"Cohere",maxTokenAllowed:4096}]}}var h=o(69349);class g extends i{getModelInstance(e){let{model:r,serverEnv:o,apiKeys:t,providerSettings:a}=e,{apiKey:i}=this.getProviderBaseUrlAndKey({apiKeys:t,providerSettings:a?.[this.name],serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"DEEPSEEK_API_KEY"});if(!i)throw Error(`Missing API key for ${this.name} provider`);return(0,h.P)({apiKey:i})(r,{})}constructor(...e){super(...e),this.name="Deepseek",this.getApiKeyLink="https://platform.deepseek.com/apiKeys",this.config={apiTokenKey:"DEEPSEEK_API_KEY"},this.staticModels=[{name:"deepseek-coder",label:"Deepseek-Coder",provider:"Deepseek",maxTokenAllowed:8e3},{name:"deepseek-chat",label:"Deepseek-Chat",provider:"Deepseek",maxTokenAllowed:8e3},{name:"deepseek-reasoner",label:"Deepseek-Reasoner",provider:"Deepseek",maxTokenAllowed:8e3}]}}class u extends i{getModelInstance(e){let{model:r,serverEnv:o,apiKeys:t,providerSettings:i}=e,{apiKey:n}=this.getProviderBaseUrlAndKey({apiKeys:t,providerSettings:i?.[this.name],serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"GITHUB_API_KEY"});if(!n)throw Error(`Missing API key for ${this.name} provider`);return(0,a.r)({baseURL:"https://models.inference.ai.azure.com",apiKey:n})(r)}constructor(...e){super(...e),this.name="Github",this.getApiKeyLink="https://github.com/settings/personal-access-tokens",this.config={apiTokenKey:"GITHUB_API_KEY"},this.staticModels=[{name:"gpt-4o",label:"GPT-4o",provider:"Github",maxTokenAllowed:8e3},{name:"o1",label:"o1-preview",provider:"Github",maxTokenAllowed:1e5},{name:"o1-mini",label:"o1-mini",provider:"Github",maxTokenAllowed:8e3},{name:"gpt-4o-mini",label:"GPT-4o Mini",provider:"Github",maxTokenAllowed:8e3},{name:"gpt-4-turbo",label:"GPT-4 Turbo",provider:"Github",maxTokenAllowed:8e3},{name:"gpt-4",label:"GPT-4",provider:"Github",maxTokenAllowed:8e3},{name:"gpt-3.5-turbo",label:"GPT-3.5 Turbo",provider:"Github",maxTokenAllowed:8e3}]}}var v=o(39022);class A extends i{async getDynamicModels(e,r,o){let{apiKey:t}=this.getProviderBaseUrlAndKey({apiKeys:e,providerSettings:r,serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"GOOGLE_GENERATIVE_AI_API_KEY"});if(!t)throw`Missing Api Key configuration for ${this.name} provider`;let a=await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${t}`,{headers:{"Content-Type":"application/json"}});return(await a.json()).models.filter(e=>e.outputTokenLimit>8e3).map(e=>({name:e.name.replace("models/",""),label:`${e.displayName} - context ${Math.floor((e.inputTokenLimit+e.outputTokenLimit)/1e3)+"k"}`,provider:this.name,maxTokenAllowed:e.inputTokenLimit+e.outputTokenLimit||8e3}))}getModelInstance(e){let{model:r,serverEnv:o,apiKeys:t,providerSettings:a}=e,{apiKey:i}=this.getProviderBaseUrlAndKey({apiKeys:t,providerSettings:a?.[this.name],serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"GOOGLE_GENERATIVE_AI_API_KEY"});if(!i)throw Error(`Missing API key for ${this.name} provider`);return(0,v.s)({apiKey:i})(r)}constructor(...e){super(...e),this.name="Google",this.getApiKeyLink="https://aistudio.google.com/app/apikey",this.config={apiTokenKey:"GOOGLE_GENERATIVE_AI_API_KEY"},this.staticModels=[{name:"gemini-1.5-flash-latest",label:"Gemini 1.5 Flash",provider:"Google",maxTokenAllowed:8192},{name:"gemini-2.0-flash-thinking-exp-01-21",label:"Gemini 2.0 Flash-thinking-exp-01-21",provider:"Google",maxTokenAllowed:65536},{name:"gemini-2.0-flash-exp",label:"Gemini 2.0 Flash",provider:"Google",maxTokenAllowed:8192},{name:"gemini-1.5-flash-002",label:"Gemini 1.5 Flash-002",provider:"Google",maxTokenAllowed:8192},{name:"gemini-1.5-flash-8b",label:"Gemini 1.5 Flash-8b",provider:"Google",maxTokenAllowed:8192},{name:"gemini-1.5-pro-latest",label:"Gemini 1.5 Pro",provider:"Google",maxTokenAllowed:8192},{name:"gemini-1.5-pro-002",label:"Gemini 1.5 Pro-002",provider:"Google",maxTokenAllowed:8192},{name:"gemini-exp-1206",label:"Gemini exp-1206",provider:"Google",maxTokenAllowed:8192}]}}class k extends i{async getDynamicModels(e,r,o){let{apiKey:t}=this.getProviderBaseUrlAndKey({apiKeys:e,providerSettings:r,serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"GROQ_API_KEY"});if(!t)throw`Missing Api Key configuration for ${this.name} provider`;let a=await fetch("https://api.groq.com/openai/v1/models",{headers:{Authorization:`Bearer ${t}`}});return(await a.json()).data.filter(e=>"model"===e.object&&e.active&&e.context_window>8e3).map(e=>({name:e.id,label:`${e.id} - context ${e.context_window?Math.floor(e.context_window/1e3)+"k":"N/A"} [ by ${e.owned_by}]`,provider:this.name,maxTokenAllowed:e.context_window||8e3}))}getModelInstance(e){let{model:r,serverEnv:o,apiKeys:t,providerSettings:i}=e,{apiKey:n}=this.getProviderBaseUrlAndKey({apiKeys:t,providerSettings:i?.[this.name],serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"GROQ_API_KEY"});if(!n)throw Error(`Missing API key for ${this.name} provider`);return(0,a.r)({baseURL:"https://api.groq.com/openai/v1",apiKey:n})(r)}constructor(...e){super(...e),this.name="Groq",this.getApiKeyLink="https://console.groq.com/keys",this.config={apiTokenKey:"GROQ_API_KEY"},this.staticModels=[{name:"llama-3.1-8b-instant",label:"Llama 3.1 8b (Groq)",provider:"Groq",maxTokenAllowed:8e3},{name:"llama-3.2-11b-vision-preview",label:"Llama 3.2 11b (Groq)",provider:"Groq",maxTokenAllowed:8e3},{name:"llama-3.2-90b-vision-preview",label:"Llama 3.2 90b (Groq)",provider:"Groq",maxTokenAllowed:8e3},{name:"llama-3.2-3b-preview",label:"Llama 3.2 3b (Groq)",provider:"Groq",maxTokenAllowed:8e3},{name:"llama-3.2-1b-preview",label:"Llama 3.2 1b (Groq)",provider:"Groq",maxTokenAllowed:8e3},{name:"llama-3.3-70b-versatile",label:"Llama 3.3 70b (Groq)",provider:"Groq",maxTokenAllowed:8e3},{name:"deepseek-r1-distill-llama-70b",label:"Deepseek R1 Distill Llama 70b (Groq)",provider:"Groq",maxTokenAllowed:131072}]}}class y extends i{getModelInstance(e){let{model:r,serverEnv:o,apiKeys:t,providerSettings:i}=e,{apiKey:n}=this.getProviderBaseUrlAndKey({apiKeys:t,providerSettings:i?.[this.name],serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"HuggingFace_API_KEY"});if(!n)throw Error(`Missing API key for ${this.name} provider`);return(0,a.r)({baseURL:"https://api-inference.huggingface.co/v1/",apiKey:n})(r)}constructor(...e){super(...e),this.name="HuggingFace",this.getApiKeyLink="https://huggingface.co/settings/tokens",this.config={apiTokenKey:"HuggingFace_API_KEY"},this.staticModels=[{name:"Qwen/Qwen2.5-Coder-32B-Instruct",label:"Qwen2.5-Coder-32B-Instruct (HuggingFace)",provider:"HuggingFace",maxTokenAllowed:8e3},{name:"01-ai/Yi-1.5-34B-Chat",label:"Yi-1.5-34B-Chat (HuggingFace)",provider:"HuggingFace",maxTokenAllowed:8e3},{name:"codellama/CodeLlama-34b-Instruct-hf",label:"CodeLlama-34b-Instruct (HuggingFace)",provider:"HuggingFace",maxTokenAllowed:8e3},{name:"NousResearch/Hermes-3-Llama-3.1-8B",label:"Hermes-3-Llama-3.1-8B (HuggingFace)",provider:"HuggingFace",maxTokenAllowed:8e3},{name:"Qwen/Qwen2.5-Coder-32B-Instruct",label:"Qwen2.5-Coder-32B-Instruct (HuggingFace)",provider:"HuggingFace",maxTokenAllowed:8e3},{name:"Qwen/Qwen2.5-72B-Instruct",label:"Qwen2.5-72B-Instruct (HuggingFace)",provider:"HuggingFace",maxTokenAllowed:8e3},{name:"meta-llama/Llama-3.1-70B-Instruct",label:"Llama-3.1-70B-Instruct (HuggingFace)",provider:"HuggingFace",maxTokenAllowed:8e3},{name:"meta-llama/Llama-3.1-405B",label:"Llama-3.1-405B (HuggingFace)",provider:"HuggingFace",maxTokenAllowed:8e3},{name:"01-ai/Yi-1.5-34B-Chat",label:"Yi-1.5-34B-Chat (HuggingFace)",provider:"HuggingFace",maxTokenAllowed:8e3},{name:"codellama/CodeLlama-34b-Instruct-hf",label:"CodeLlama-34b-Instruct (HuggingFace)",provider:"HuggingFace",maxTokenAllowed:8e3},{name:"NousResearch/Hermes-3-Llama-3.1-8B",label:"Hermes-3-Llama-3.1-8B (HuggingFace)",provider:"HuggingFace",maxTokenAllowed:8e3}]}}class f extends i{async getDynamicModels(e,r,o={}){let{baseUrl:t,apiKey:a}=this.getProviderBaseUrlAndKey({apiKeys:e,providerSettings:r,serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"HYPERBOLIC_API_KEY"});if(!a)throw`Missing Api Key configuration for ${this.name} provider`;let i=await fetch(`${t||"https://api.hyperbolic.xyz/v1"}/models`,{headers:{Authorization:`Bearer ${a}`}});return(await i.json()).data.filter(e=>"model"===e.object&&e.supports_chat).map(e=>({name:e.id,label:`${e.id} - context ${e.context_length?Math.floor(e.context_length/1e3)+"k":"N/A"}`,provider:this.name,maxTokenAllowed:e.context_length||8e3}))}getModelInstance(e){let{model:r,serverEnv:o,apiKeys:t,providerSettings:i}=e,{apiKey:n}=this.getProviderBaseUrlAndKey({apiKeys:t,providerSettings:i?.[this.name],serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"HYPERBOLIC_API_KEY"});if(!n)throw`Missing Api Key configuration for ${this.name} provider`;return(0,a.r)({baseURL:"https://api.hyperbolic.xyz/v1/",apiKey:n})(r)}constructor(...e){super(...e),this.name="Hyperbolic",this.getApiKeyLink="https://app.hyperbolic.xyz/settings",this.config={apiTokenKey:"HYPERBOLIC_API_KEY"},this.staticModels=[{name:"Qwen/Qwen2.5-Coder-32B-Instruct",label:"Qwen 2.5 Coder 32B Instruct",provider:"Hyperbolic",maxTokenAllowed:8192},{name:"Qwen/Qwen2.5-72B-Instruct",label:"Qwen2.5-72B-Instruct",provider:"Hyperbolic",maxTokenAllowed:8192},{name:"deepseek-ai/DeepSeek-V2.5",label:"DeepSeek-V2.5",provider:"Hyperbolic",maxTokenAllowed:8192},{name:"Qwen/QwQ-32B-Preview",label:"QwQ-32B-Preview",provider:"Hyperbolic",maxTokenAllowed:8192},{name:"Qwen/Qwen2-VL-72B-Instruct",label:"Qwen2-VL-72B-Instruct",provider:"Hyperbolic",maxTokenAllowed:8192}]}}var w=o(55150);class T extends i{async getDynamicModels(e,r,o={}){let{baseUrl:t}=this.getProviderBaseUrlAndKey({apiKeys:e,providerSettings:r,serverEnv:o,defaultBaseUrlKey:"LMSTUDIO_API_BASE_URL",defaultApiTokenKey:""});if(!t)throw Error("No baseUrl found for LMStudio provider");{let e=process?.env?.RUNNING_IN_DOCKER==="true"||o?.RUNNING_IN_DOCKER==="true";t=e?t.replace("localhost","host.docker.internal"):t,t=e?t.replace("127.0.0.1","host.docker.internal"):t}let a=await fetch(`${t}/v1/models`);return(await a.json()).data.map(e=>({name:e.id,label:e.id,provider:this.name,maxTokenAllowed:8e3}))}constructor(...e){super(...e),this.name="LMStudio",this.getApiKeyLink="https://lmstudio.ai/",this.labelForGetApiKey="Get LMStudio",this.icon="i-ph:cloud-arrow-down",this.config={baseUrlKey:"LMSTUDIO_API_BASE_URL",baseUrl:"http://localhost:1234/"},this.staticModels=[],this.getModelInstance=e=>{let{apiKeys:r,providerSettings:o,serverEnv:t,model:i}=e,{baseUrl:n}=this.getProviderBaseUrlAndKey({apiKeys:r,providerSettings:o?.[this.name],serverEnv:t,defaultBaseUrlKey:"LMSTUDIO_API_BASE_URL",defaultApiTokenKey:""});if(!n)throw Error("No baseUrl found for LMStudio provider");let l="true"===process.env.RUNNING_IN_DOCKER||t?.RUNNING_IN_DOCKER==="true";return n=l?n.replace("localhost","host.docker.internal"):n,n=l?n.replace("127.0.0.1","host.docker.internal"):n,w.vF.debug("LMStudio Base Url used: ",n),(0,a.r)({baseURL:`${n}/v1`,apiKey:""})(i)}}}var b=o(62171);class x extends i{getModelInstance(e){let{model:r,serverEnv:o,apiKeys:t,providerSettings:a}=e,{apiKey:i}=this.getProviderBaseUrlAndKey({apiKeys:t,providerSettings:a?.[this.name],serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"MISTRAL_API_KEY"});if(!i)throw Error(`Missing API key for ${this.name} provider`);return(0,b.T)({apiKey:i})(r)}constructor(...e){super(...e),this.name="Mistral",this.getApiKeyLink="https://console.mistral.ai/api-keys/",this.config={apiTokenKey:"MISTRAL_API_KEY"},this.staticModels=[{name:"open-mistral-7b",label:"Mistral 7B",provider:"Mistral",maxTokenAllowed:8e3},{name:"open-mixtral-8x7b",label:"Mistral 8x7B",provider:"Mistral",maxTokenAllowed:8e3},{name:"open-mixtral-8x22b",label:"Mistral 8x22B",provider:"Mistral",maxTokenAllowed:8e3},{name:"open-codestral-mamba",label:"Codestral Mamba",provider:"Mistral",maxTokenAllowed:8e3},{name:"open-mistral-nemo",label:"Mistral Nemo",provider:"Mistral",maxTokenAllowed:8e3},{name:"ministral-8b-latest",label:"Mistral 8B",provider:"Mistral",maxTokenAllowed:8e3},{name:"mistral-small-latest",label:"Mistral Small",provider:"Mistral",maxTokenAllowed:8e3},{name:"codestral-latest",label:"Codestral",provider:"Mistral",maxTokenAllowed:8e3},{name:"mistral-large-latest",label:"Mistral Large Latest",provider:"Mistral",maxTokenAllowed:8e3}]}}class E{constructor(e={}){this.id="ollama",this.name="Ollama AI",this.description="Ex\xe9cution locale de mod\xe8les LLM via Ollama",this.baseUrl=e.baseUrl||"http://localhost:11434",this.apiKey=e.apiKey,this.defaultModel=e.defaultModel||"llama2"}async listModels(){try{let e=await fetch(`${this.baseUrl}/api/tags`);if(!e.ok)throw Error(`Erreur lors de la r\xe9cup\xe9ration des mod\xe8les: ${e.statusText}`);return(await e.json()).models.map(e=>({id:e.name,name:e.name,provider:this.id,capabilities:["chat","completion"],contextLength:e.parameters?.context_length||4096,supportsFunctions:!1,supportsVision:!1}))}catch(e){return w.vF.error(`[OllamaProvider] Erreur lors de la r\xe9cup\xe9ration des mod\xe8les`,e),[]}}async chat(e,r=this.defaultModel,o={}){try{let t=await fetch(`${this.baseUrl}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:r,messages:e.map(e=>({role:e.role,content:e.content})),stream:!1,options:{temperature:o.temperature||.7,top_p:o.top_p||.9,max_tokens:o.max_tokens||1024}})});if(!t.ok)throw Error(`Erreur lors de l'appel \xe0 l'API Ollama: ${t.statusText}`);let a=await t.json();return{id:`ollama-${Date.now()}`,content:a.message.content,model:r,provider:this.id,usage:{promptTokens:-1,completionTokens:-1,totalTokens:-1}}}catch(e){throw w.vF.error(`[OllamaProvider] Erreur lors de l'appel au mod\xe8le`,e),Error(`Erreur lors de l'appel au mod\xe8le Ollama: ${e instanceof Error?e.message:"Erreur inconnue"}`)}}async completion(e,r=this.defaultModel,o={}){try{let t=await fetch(`${this.baseUrl}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:r,prompt:e,stream:!1,options:{temperature:o.temperature||.7,top_p:o.top_p||.9,max_tokens:o.max_tokens||1024}})});if(!t.ok)throw Error(`Erreur lors de l'appel \xe0 l'API Ollama: ${t.statusText}`);let a=await t.json();return{id:`ollama-${Date.now()}`,content:a.response,model:r,provider:this.id,usage:{promptTokens:-1,completionTokens:-1,totalTokens:-1}}}catch(e){throw w.vF.error(`[OllamaProvider] Erreur lors de l'appel au mod\xe8le`,e),Error(`Erreur lors de l'appel au mod\xe8le Ollama: ${e instanceof Error?e.message:"Erreur inconnue"}`)}}}let K=E;var _=o(32814);class I extends i{async getDynamicModels(e,r,o={}){try{let e=await fetch("https://openrouter.ai/api/v1/models",{headers:{"Content-Type":"application/json"}});return(await e.json()).data.sort((e,r)=>e.name.localeCompare(r.name)).map(e=>({name:e.id,label:`${e.name} - in:$${(1e6*e.pricing.prompt).toFixed(2)} out:$${(1e6*e.pricing.completion).toFixed(2)} - context ${Math.floor(e.context_length/1e3)}k`,provider:this.name,maxTokenAllowed:8e3}))}catch(e){return console.error("Error getting OpenRouter models:",e),[]}}getModelInstance(e){let{model:r,serverEnv:o,apiKeys:t,providerSettings:a}=e,{apiKey:i}=this.getProviderBaseUrlAndKey({apiKeys:t,providerSettings:a?.[this.name],serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"OPEN_ROUTER_API_KEY"});if(!i)throw Error(`Missing API key for ${this.name} provider`);return(0,_.ER)({apiKey:i}).chat(r)}constructor(...e){super(...e),this.name="OpenRouter",this.getApiKeyLink="https://openrouter.ai/settings/keys",this.config={apiTokenKey:"OPEN_ROUTER_API_KEY"},this.staticModels=[{name:"anthropic/claude-3.5-sonnet",label:"Anthropic: Claude 3.5 Sonnet (OpenRouter)",provider:"OpenRouter",maxTokenAllowed:8e3},{name:"anthropic/claude-3-haiku",label:"Anthropic: Claude 3 Haiku (OpenRouter)",provider:"OpenRouter",maxTokenAllowed:8e3},{name:"deepseek/deepseek-coder",label:"Deepseek-Coder V2 236B (OpenRouter)",provider:"OpenRouter",maxTokenAllowed:8e3},{name:"google/gemini-flash-1.5",label:"Google Gemini Flash 1.5 (OpenRouter)",provider:"OpenRouter",maxTokenAllowed:8e3},{name:"google/gemini-pro-1.5",label:"Google Gemini Pro 1.5 (OpenRouter)",provider:"OpenRouter",maxTokenAllowed:8e3},{name:"x-ai/grok-beta",label:"xAI Grok Beta (OpenRouter)",provider:"OpenRouter",maxTokenAllowed:8e3},{name:"mistralai/mistral-nemo",label:"OpenRouter Mistral Nemo (OpenRouter)",provider:"OpenRouter",maxTokenAllowed:8e3},{name:"qwen/qwen-110b-chat",label:"OpenRouter Qwen 110b Chat (OpenRouter)",provider:"OpenRouter",maxTokenAllowed:8e3},{name:"cohere/command",label:"Cohere Command (OpenRouter)",provider:"OpenRouter",maxTokenAllowed:4096}]}}class P extends i{async getDynamicModels(e,r,o){let{apiKey:t}=this.getProviderBaseUrlAndKey({apiKeys:e,providerSettings:r,serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"OPENAI_API_KEY"});if(!t)throw`Missing Api Key configuration for ${this.name} provider`;let a=await fetch("https://api.openai.com/v1/models",{headers:{Authorization:`Bearer ${t}`}}),i=await a.json(),n=this.staticModels.map(e=>e.name);return i.data.filter(e=>"model"===e.object&&(e.id.startsWith("gpt-")||e.id.startsWith("o")||e.id.startsWith("chatgpt-"))&&!n.includes(e.id)).map(e=>({name:e.id,label:`${e.id}`,provider:this.name,maxTokenAllowed:e.context_window||32e3}))}getModelInstance(e){let{model:r,serverEnv:o,apiKeys:t,providerSettings:i}=e,{apiKey:n}=this.getProviderBaseUrlAndKey({apiKeys:t,providerSettings:i?.[this.name],serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"OPENAI_API_KEY"});if(!n)throw Error(`Missing API key for ${this.name} provider`);return(0,a.r)({apiKey:n})(r)}constructor(...e){super(...e),this.name="OpenAI",this.getApiKeyLink="https://platform.openai.com/api-keys",this.config={apiTokenKey:"OPENAI_API_KEY"},this.staticModels=[{name:"gpt-4o",label:"GPT-4o",provider:"OpenAI",maxTokenAllowed:8e3},{name:"gpt-4o-mini",label:"GPT-4o Mini",provider:"OpenAI",maxTokenAllowed:8e3},{name:"gpt-4-turbo",label:"GPT-4 Turbo",provider:"OpenAI",maxTokenAllowed:8e3},{name:"gpt-4",label:"GPT-4",provider:"OpenAI",maxTokenAllowed:8e3},{name:"gpt-3.5-turbo",label:"GPT-3.5 Turbo",provider:"OpenAI",maxTokenAllowed:8e3}]}}class M extends i{async getDynamicModels(e,r,o={}){let{baseUrl:t,apiKey:a}=this.getProviderBaseUrlAndKey({apiKeys:e,providerSettings:r,serverEnv:o,defaultBaseUrlKey:"OPENAI_LIKE_API_BASE_URL",defaultApiTokenKey:"OPENAI_LIKE_API_KEY"});if(!t||!a)return[];let i=await fetch(`${t}/models`,{headers:{Authorization:`Bearer ${a}`}});return(await i.json()).data.map(e=>({name:e.id,label:e.id,provider:this.name,maxTokenAllowed:8e3}))}getModelInstance(e){let{model:r,serverEnv:o,apiKeys:t,providerSettings:a}=e,{baseUrl:i,apiKey:l}=this.getProviderBaseUrlAndKey({apiKeys:t,providerSettings:a?.[this.name],serverEnv:o,defaultBaseUrlKey:"OPENAI_LIKE_API_BASE_URL",defaultApiTokenKey:"OPENAI_LIKE_API_KEY"});if(!i||!l)throw Error(`Missing configuration for ${this.name} provider`);return n(i,l,r)}constructor(...e){super(...e),this.name="OpenAILike",this.getApiKeyLink=void 0,this.config={baseUrlKey:"OPENAI_LIKE_API_BASE_URL",apiTokenKey:"OPENAI_LIKE_API_KEY"},this.staticModels=[]}}class B extends i{getModelInstance(e){let{model:r,serverEnv:o,apiKeys:t,providerSettings:i}=e,{apiKey:n}=this.getProviderBaseUrlAndKey({apiKeys:t,providerSettings:i?.[this.name],serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"PERPLEXITY_API_KEY"});if(!n)throw Error(`Missing API key for ${this.name} provider`);return(0,a.r)({baseURL:"https://api.perplexity.ai/",apiKey:n})(r)}constructor(...e){super(...e),this.name="Perplexity",this.getApiKeyLink="https://www.perplexity.ai/settings/api",this.config={apiTokenKey:"PERPLEXITY_API_KEY"},this.staticModels=[{name:"llama-3.1-sonar-small-128k-online",label:"Sonar Small Online",provider:"Perplexity",maxTokenAllowed:8192},{name:"llama-3.1-sonar-large-128k-online",label:"Sonar Large Online",provider:"Perplexity",maxTokenAllowed:8192},{name:"llama-3.1-sonar-huge-128k-online",label:"Sonar Huge Online",provider:"Perplexity",maxTokenAllowed:8192}]}}class L extends i{async getDynamicModels(e,r,o={}){let{baseUrl:t,apiKey:a}=this.getProviderBaseUrlAndKey({apiKeys:e,providerSettings:r,serverEnv:o,defaultBaseUrlKey:"TOGETHER_API_BASE_URL",defaultApiTokenKey:"TOGETHER_API_KEY"}),i=t||"https://api.together.xyz/v1";if(!i||!a)return[];let n=await fetch(`${i}/models`,{headers:{Authorization:`Bearer ${a}`}});return(await n.json()||[]).filter(e=>"chat"===e.type).map(e=>({name:e.id,label:`${e.display_name} - in:$${e.pricing.input.toFixed(2)} out:$${e.pricing.output.toFixed(2)} - context ${Math.floor(e.context_length/1e3)}k`,provider:this.name,maxTokenAllowed:8e3}))}getModelInstance(e){let{model:r,serverEnv:o,apiKeys:t,providerSettings:a}=e,{baseUrl:i,apiKey:l}=this.getProviderBaseUrlAndKey({apiKeys:t,providerSettings:a?.[this.name],serverEnv:o,defaultBaseUrlKey:"TOGETHER_API_BASE_URL",defaultApiTokenKey:"TOGETHER_API_KEY"});if(!i||!l)throw Error(`Missing configuration for ${this.name} provider`);return n(i,l,r)}constructor(...e){super(...e),this.name="Together",this.getApiKeyLink="https://api.together.xyz/settings/api-keys",this.config={baseUrlKey:"TOGETHER_API_BASE_URL",apiTokenKey:"TOGETHER_API_KEY"},this.staticModels=[{name:"Qwen/Qwen2.5-Coder-32B-Instruct",label:"Qwen/Qwen2.5-Coder-32B-Instruct",provider:"Together",maxTokenAllowed:8e3},{name:"meta-llama/Llama-3.2-90B-Vision-Instruct-Turbo",label:"meta-llama/Llama-3.2-90B-Vision-Instruct-Turbo",provider:"Together",maxTokenAllowed:8e3},{name:"mistralai/Mixtral-8x7B-Instruct-v0.1",label:"Mixtral 8x7B Instruct",provider:"Together",maxTokenAllowed:8192}]}}class O extends i{getModelInstance(e){let{model:r,serverEnv:o,apiKeys:t,providerSettings:i}=e,{apiKey:n}=this.getProviderBaseUrlAndKey({apiKeys:t,providerSettings:i?.[this.name],serverEnv:o,defaultBaseUrlKey:"",defaultApiTokenKey:"XAI_API_KEY"});if(!n)throw Error(`Missing API key for ${this.name} provider`);return(0,a.r)({baseURL:"https://api.x.ai/v1",apiKey:n})(r)}constructor(...e){super(...e),this.name="xAI",this.getApiKeyLink="https://docs.x.ai/docs/quickstart#creating-an-api-key",this.config={apiTokenKey:"XAI_API_KEY"},this.staticModels=[{name:"grok-beta",label:"xAI Grok Beta",provider:"xAI",maxTokenAllowed:8e3},{name:"grok-2-1212",label:"xAI Grok2 1212",provider:"xAI",maxTokenAllowed:8e3}]}}let U=(0,w.zP)("LLMManager");class C{constructor(e){this._providers=new Map,this._modelList=[],this._env={},this._registerProvidersFromDirectory(),this._env=e}static getInstance(e={}){return C._instance||(C._instance=new C(e)),C._instance}get env(){return this._env}async _registerProvidersFromDirectory(){try{for(let e of Object.values(t))if("function"==typeof e&&e.prototype instanceof i){let r=new e;try{this.registerProvider(r)}catch(e){U.warn("Failed To Register Provider: ",r.name,"error:",e.message)}}}catch(e){U.error("Error registering providers:",e)}}registerProvider(e){if(this._providers.has(e.name)){U.warn(`Provider ${e.name} is already registered. Skipping.`);return}U.info("Registering Provider: ",e.name),this._providers.set(e.name,e),this._modelList=[...this._modelList,...e.staticModels]}getProvider(e){return this._providers.get(e)}getAllProviders(){return Array.from(this._providers.values())}getModelList(){return this._modelList}async updateModelList(e){let{apiKeys:r,providerSettings:o,serverEnv:t}=e,a=Array.from(this._providers.values()).map(e=>e.name).filter(e=>o&&o[e]?.enabled!==void 0&&o[e].enabled||!0),i=await Promise.all(a.map(e=>this._providers.get(e)).filter(e=>e&&e.getDynamicModels).map(async a=>{if(!a)return[];let i=a.getModelsFromCache?.(e);return i||a.getDynamicModels?.(r,o?.[a.name],t).then(r=>(U.info(`Caching ${r.length} dynamic models for ${a.name}`),a.storeDynamicModels?.(e,r),r)).catch(e=>(U.error(`Error getting dynamic models ${a.name} :`,e),[]))})),n=Array.from(this._providers.values()).flatMap(e=>e.staticModels||[]),l=i.flat(),s=l.map(e=>`${e.name}-${e.provider}`),d=[...l,...n.filter(e=>!s.includes(`${e.name}-${e.provider}`))];return d.sort((e,r)=>e.name.localeCompare(r.name)),this._modelList=d,d}getStaticModelList(){return[...this._providers.values()].flatMap(e=>e.staticModels||[])}async getModelListFromProvider(e,r){let o=this._providers.get(e.name);if(!o)throw Error(`Provider ${e.name} not found`);let t=o.staticModels||[];if(!o.getDynamicModels)return t;let{apiKeys:a,providerSettings:i,serverEnv:n}=r,l=o.getModelsFromCache?.(r);if(l)return U.info(`Found ${l.length} cached models for ${o.name}`),[...l,...t];U.info(`Getting dynamic models for ${o.name}`);let s=await o.getDynamicModels(a,i?.[o.name],n).then(e=>(U.info(`Got ${e.length} dynamic models for ${o.name}`),o.storeDynamicModels?.(r,e),e)).catch(e=>(U.error(`Error getting dynamic models ${o.name} :`,e),[])),d=s.map(e=>e.name),m=[...s,...t.filter(e=>!d.includes(e.name))];return m.sort((e,r)=>e.name.localeCompare(r.name)),m}getStaticModelListFromProvider(e){let r=this._providers.get(e.name);if(!r)throw Error(`Provider ${e.name} not found`);return[...r.staticModels||[]]}getDefaultProvider(){let e=this._providers.values().next().value;if(!e)throw Error("No providers registered");return e}}let G="project",R=`/home/${G}`,$=C.getInstance(void 0),S=$.getAllProviders();$.getDefaultProvider();let H={};S.forEach(e=>{H[e.name]={baseUrlKey:e.config.baseUrlKey,apiTokenKey:e.config.apiTokenKey}})},55150:(e,r,o)=>{let t,a,i;o.d(r,{vF:()=>s,zP:()=>d});let n=process.env.VITE_LOG_LEVEL?"debug":"info";a=o(29021),t=(i=o(33873)).join(__dirname,"..","..","docs","logs"),a&&!a.existsSync(t)&&a.mkdirSync(t,{recursive:!0});let l=(e,r)=>{if(a&&i&&t){let o=i.join(t,e);a.appendFileSync(o,`${new Date().toISOString()} - ${r}
`)}},s={trace:(...e)=>p("trace",void 0,e),debug:(...e)=>p("debug",void 0,e),info:(...e)=>p("info",void 0,e),warn:(...e)=>p("warn",void 0,e),error:(...e)=>p("error",void 0,e),setLevel:m};function d(e){return{trace:(...r)=>p("trace",e,r),debug:(...r)=>p("debug",e,r),info:(...r)=>p("info",e,r),warn:(...r)=>p("warn",e,r),error:(...r)=>p("error",e,r),setLevel:m}}function m(e){"trace"!==e&&"debug"!==e&&(n=e)}function p(e,r,o){let t=["trace","debug","info","warn","error"];if(t.indexOf(e)<t.indexOf(n))return;let a=o.reduce((e,r)=>e.endsWith("\n")?e+r:e?`${e} ${r}`:r,"");console.log(`${e.toUpperCase()} ${r?`[${r}] `:""}`,a);let i=`${e.toUpperCase()} - ${r?`[${r}] `:""}${a}`;switch(e){case"trace":case"debug":l("vite_errors.log",i);break;case"info":case"warn":case"error":l("runtime_errors.log",i)}}d("Render")}};